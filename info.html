<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Trabalho</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            margin: auto;
        }
        h1 {
            text-align: center;
        }
        .tab {
            display: none; /* Esconde as abas inicialmente */
        }
        .tab.active {
            display: block; /* Mostra a aba ativa */
        }
        .tab-links {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        .tab-links button {
            flex: 1;
            padding: 10px;
            margin: 0 5px;
            cursor: pointer;
            background-color: #e7e7e7;
            border: none;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        .tab-links button.active {
            background-color: #28a745;
            color: white;
        }
        label {
            display: block;
            margin: 10px 0 5px;
        }
        input[type="text"],
        input[type="time"],
        input[type="number"],
        select {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button.submit {
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            padding: 10px;
            width: 100%;
        }
        button.submit:hover {
            background-color: #218838;
        }
        .radio-group {
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
        }
        .radio-group label {
            flex: 1;
            text-align: center;
            background-color: #e7e7e7;
            border-radius: 4px;
            padding: 10px;
            margin: 0 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .radio-group input[type="radio"] {
            display: none; /* Esconde os botões de rádio padrão */
        }
        .radio-group input[type="radio"]:checked + label {
            background-color: #28a745;
            color: white;
        }
        .radio-group label:hover {
            background-color: #d4d4d4;
        }
        .kilometragem-container {
            display: none; /* Esconde os campos de kilometragem inicialmente */
            margin-top: 10px;
        }
        .registro-container {
            margin-top: 20px;
        }
        .registro-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Registro de Trabalho</h1>
    <div class="tab-links">
        <button class="active" onclick="showTab('trabalho')">Trabalho</button>
        <button onclick="showTab('carregamento')">Carregamento</button>
        <button onclick="showTab('registro')">Registro</button>
    </div>

    <form id="work-form">
        <div id="trabalho" class="tab active">
            <label for="horario">Horário de Início:</label>
            <input type="time" id="horario" name="horario" required>

            <label for="estado">Estado:</label>
            <select id="estado" name="estado" required>
                <option value="">Selecione um estado</option>
                <option value="SP">São Paulo</option>
                <option value="RJ">Rio de Janeiro</option>
                <option value="MG">Minas Gerais</option>
                <option value="RS">Rio Grande do Sul</option>
                <option value="BA">Bahia</option>
                <option value="PR">Paraná</option>
            </select>

            <label for="cidade">Cidade:</label>
            <select id="cidade" name="cidade" required>
                <option value="">Selecione uma cidade</option>
                <option value="São Paulo">São Paulo</option>
                <option value="Rio de Janeiro">Rio de Janeiro</option>
                <option value="Belo Horizonte">Belo Horizonte</option>
                <option value="Porto Alegre">Porto Alegre</option>
                <option value="Salvador">Salvador</option>
                <option value="Curitiba">Curitiba</option>
            </select>

            <label>Rodovia Utilizada:</label>
            <select id="rodovia" name="rodovia" required>
                <option value="">Selecione uma rodovia</option>
                <option value="BR-101">BR-101</option>
                <option value="BR-116">BR-116</option>
                <option value="BR-262">BR-262</option>
                <option value="SP-330">SP-330</option>
                <option value="RJ-149">RJ-149</option>
            </select>

            <label>Posto de Gasolina:</label>
            <select id="posto" name="posto" required>
                <option value="">Selecione um posto</option>
                <option value="Posto A">Posto A</option>
                <option value="Posto B">Posto B</option>
                <option value="Posto C">Posto C</option>
                <option value="Posto D">Posto D</option>
            </select>

            <label>Verificou o óleo:</label>
            <div class="radio-group">
                <input type="radio" name="oleo" value="sim" id="oleo-sim" required>
                <label for="oleo-sim">Sim</label>
                <input type="radio" name="oleo" value="nao" id="oleo-nao">
                <label for="oleo-nao">Não</label>
            </div>
            <div id="kilometragem-oleo" class="kilometragem-container">
                <label>Informar kilometragem do caminhão:</label>
                <input type="number" name="kilometragem_oleo" placeholder="Kilometragem">
            </div>

            <label>Verificou o nível de combustível:</label>
            <div class="radio-group">
                <input type="radio" name="combustivel" value="sim" id="combustivel-sim" required>
                <label for="combustivel-sim">Sim</label>
                <input type="radio" name="combustivel" value="nao" id="combustivel-nao">
                <label for="combustivel-nao">Não</label>
            </div>
            <div id="kilometragem-combustivel" class="kilometragem-container">
                <label>Informar kilometragem do caminhão:</label>
                <input type="number" name="kilometragem_combustivel" placeholder="Kilometragem">
            </div>

            <label>Realizou rodízio dos pneus:</label>
            <div class="radio-group">
                <input type="radio" name="pneus" value="sim" id="pneus-sim" required>
                <label for="pneus-sim">Sim</label>
                <input type="radio" name="pneus" value="nao" id="pneus-nao">
                <label for="pneus-nao">Não</label>
            </div>
            <div id="kilometragem-pneus" class="kilometragem-container">
                <label>Informar kilometragem do caminhão:</label>
                <input type="number" name="kilometragem_pneus" placeholder="Kilometragem">
            </div>
        </div>

        <div id="carregamento" class="tab">
            <label for="hora-carregamento">Hora do Carregamento:</label>
            <input type="time" id="hora-carregamento" name="hora-carregamento" required>

            <label for="local-carregamento">Local do Carregamento:</label>
            <input type="text" id="local-carregamento" name="local-carregamento" placeholder="Digite o local" required>

            <label for="carga">Descrição da Carga:</label>
            <input type="text" id="carga" name="carga" placeholder="Descreva a carga" required>

            <label for="peso">Peso da Carga (kg):</label>
            <input type="number" id="peso" name="peso" placeholder="Peso em kg" required>
        </div>

        <div id="registro" class="tab">
            <h2>Registro dos Últimos 7 Dias</h2>
            <div class="registro-container" id="registro-container">
                <!-- Os registros serão adicionados aqui -->
            </div>

            <label for="litros-dia">Litros de Combustível Abastecidos Hoje:</label>
            <input type="number" id="litros-dia" name="litros-dia" placeholder="Litros" required>
            <button type="button" onclick="addRegistro()">Adicionar Registro</button>

            <h3>Total de Litros Abastecidos no Mês: <span id="total-litros">0</span> litros</h3>
        </div>

        <button type="submit" class="submit">Registrar Dados</button>
    </form>
</div>

<script>
    function showTab(tabName) {
        const tabs = document.querySelectorAll('.tab');
        tabs.forEach(tab => {
            tab.classList.remove('active');
        });

        const buttons = document.querySelectorAll('.tab-links button');
        buttons.forEach(button => {
            button.classList.remove('active');
        });

        document.getElementById(tabName).classList.add('active');
        event.currentTarget.classList.add('active');
    }

    const form = document.getElementById('work-form');

    function checkKilometragemVisibility() {
        const oleoChecked = document.querySelector('input[name="oleo"]:checked');
        const combustivelChecked = document.querySelector('input[name="combustivel"]:checked');
        const pneusChecked = document.querySelector('input[name="pneus"]:checked');

        document.getElementById('kilometragem-oleo').style.display = oleoChecked && oleoChecked.value === 'sim' ? 'block' : 'none';
        document.getElementById('kilometragem-combustivel').style.display = combustivelChecked && combustivelChecked.value === 'sim' ? 'block' : 'none';
        document.getElementById('kilometragem-pneus').style.display = pneusChecked && pneusChecked.value === 'sim' ? 'block' : 'none';
    }

    // Adiciona eventos de mudança aos botões de rádio
    const radios = document.querySelectorAll('input[type="radio"]');
    radios.forEach(radio => {
        radio.addEventListener('change', checkKilometragemVisibility);
    });

    // Chama a função ao carregar a página
    checkKilometragemVisibility();

    let totalLitros = 0;

    function addRegistro() {
        const container = document.getElementById('registro-container');
        const litrosDiaInput = document.getElementById('litros-dia');
        const litrosDia = parseFloat(litrosDiaInput.value) || 0;

        if (litrosDia <= 0) {
            alert("Por favor, insira um valor válido de litros.");
            return;
        }

        const today = new Date();
        const date = new Date(today);
        date.setDate(today.getDate() - container.children.length);

        const registroItem = document.createElement('div');
        registroItem.classList.add('registro-item');
        registroItem.innerHTML = `${date.toLocaleDateString()}: ${litrosDia} litros abastecidos.`;
        container.appendChild(registroItem);

        totalLitros += litrosDia;
        document.getElementById('total-litros').innerText = totalLitros;

        litrosDiaInput.value = ''; // Limpa o campo de litros

        if (container.children.length >= 7) {
            alert("Máximo de 7 dias registrados.");
        }
    }
</script>

</body>
</html>
